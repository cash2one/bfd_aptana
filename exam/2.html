<!DOCTYPE html> 
<html>
<head>
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1"> 
	<title>Single page template</title> 
	<link rel="stylesheet" href="./resources/jquery.mobile/jquery.mobile-1.2.0.min.css" />
	<script src="./resources/jquery/jquery-1.8.2.min.js"></script>
	<script src="./resources/jquery/jquery.tmpl.min.js"></script>
	<script src="./resources/questions/Question.js"></script>
	<script src="./resources/questions/widgets/Checkbox/Checkbox.js"></script>
	<script src="./resources/questions/widgets/Radio/Radio.js"></script>
	<script src="./resources/jquery.mobile/jquery.mobile-1.2.0.js"></script>
	<script src="./js/q.js"></script>
	<script type="text/javascript">
		 $(document).ready(function(){
		 	$.mobile.loading( 'show', {
								text: 'foo',
								textVisible: true,
								theme: 'z',
								html: "请稍等..."
							});
             var data=[
							   {
							   	type:"Checkbox",
								question:'操你妈共产党',
								data:[{
									value:"123123",
									label:'123321312'
								},{
									value:"123123",
									label:'123321312'
								},{
									value:"123123",
									label:'123321312'
								}]
							   },
							   {
							   	type:"Radio",
								question:'操你妈共产党',
								data:[{
									value:"123123",
									label:'123321312'
								},{
									value:"123123",
									label:'123321312'
								},{
									value:"123123",
									label:'123321312'
								}]
							   }
						 ]
				var ws=[]
				$.each(data,function(i,item){
					var w=new MQ.widgets[item.type]({
																			data:item,
																			commonData:{'some':'i donot know'},
																			index:i
																		})
					ws.push(w)
					w.page.appendTo('body')
				})	
				var index=0,max=$('div[data-role="page"]').length-1
				$("body > div").bind("swipeleft",function(){
					if(index<max){
						index++
						$.mobile.changePage(ws[index].page,{transition: "slide",changeHash: true});
					}
				});
				$("body > div").bind("swiperight",function(){
					if(index!=0){
						index--
						$.mobile.changePage(ws[index].page,{transition: "slide",changeHash: true,reverse: true});
					}
				});
				$.mobile.loading( 'hide')
				$.mobile.changePage(ws[0].page,{transition: "pop",changeHash: true});
		 })
	</script>
</head> 
<body> 

</body>
</html>